OASISFormat: 0.4
BuildTools: ocamlbuild
Plugins:     META (0.4), StdFiles (0.4), DevFiles (0.4)
Name:        ocaml-amf
Version:     0.1.0
Synopsis:    Implementation of Adobe's Action Message Format
Authors:     Brian Caine <briancaine@gmail.com>
License:     LGPL with OCaml linking exception
OCamlVersion:  >= 4.01
AlphaFeatures: ocamlbuild_more_args
XOCamlbuildPluginTags:  package(bisect_ppx-ocamlbuild)

Library "amf"
  Path: src/amf/
  Modules: AMF
  InternalModules: Amf_v0
  BuildDepends: threads, core, stdint, ppx_deriving, ppx_sexp_conv

Executable "test"
  Path: test/
  MainIs: test.ml
  BuildDepends: amf, core, oUnit, oUnit.advanced, oUnit.threads, bisect_ppx-ocamlbuild, sexplib

Document "amf_api"
  Type: ocamlbuild (0.4)
  BuildTools: ocamldoc
  Title: API reference for AMF
  XOCamlbuildPath: .
  XOCamlbuildExtraArgs:
    "-docflags '-thread' -package core"
  XOcamlbuildLibraries: amf

Test "test"
  Run$: flag(tests)
  TestTools: test
  Command: $test -runner sequential
  WorkingDirectory: test
